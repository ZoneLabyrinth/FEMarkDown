## HTTP协议简介

HTTP全名为 **HyperText Transfer Protocol**，即超文本传输协议。具体来说，HTTP是一个两点之间（web中客户端到服务器）之间**传输**文字、图片、音视频等**超文本数据**的约定和规范。



### HTTP历史版本

#### HTTP/0.9

1990年出版，结构简单，为了便于服务器和客户端处理，采用了纯文本格式。只允许`GET`请求，不支持MIM类型，并且规定服务器只能返回HTML文档，服务器响应完毕后**立即关闭连接**。设计简单，很快被HTTP/1.0取代

#### HTTP/1.0

1996年发布。在已有基础上，增强了0.9版。具体为：

1. 传入不的数据不限于文本，任何格式的内容都可以发送。这使得互联网不仅可以传输文字，还能传输图像、视频、二进制文件。这为互联网的大发展奠定了基础。
2. `GET`基础上，新增了`HEAD、POST`等新方法；
3. HTTP请求和回应的格式也变了，引入了HTTP Header概念。除了数据部分，每次通信都必须包括头信息（HTTP header），用来描述一些元数据。
4.    其他的新增功能还包括状态码（status code）、多字符集支持、多部分发送（multi-part type）、权限（authorization）、缓存（cache）、内容编码（content encoding）等。
5. 引入协议版本号概念

但HTTP/1.0并不具有实际约束力，及未成为标准

#### HTTP/1.1

在浏览器大战后1999年发布的HTTP/1.1，是对HTTP/1.0的小幅修正，但它是一个正式的标准。HTTP/1.1的特点：

- 引入持久连接，及TCP默认不关闭，可以被多个请求复用。
- 增加`PUT、PATCH、DELETE`等新方法；
- 支持响应分块，利于传输大文件。
- 引入缓存控制机制；
- 引入了管道机制（pipelining），即在同一个TCP连接里面，客户端可以同时发送多个请求。
- 强制Host头，使不同的域名配置可以在同一个IP地址的服务器，让主机托管成为可能。
- 扩充`content-length`字段作用

#### HTTP/2

HTTP/2的充分考虑了现今互联网的现状：宽带、移动、不安全。主要特点：

- HTTP2是二进制协议而不是文本协议。
- 放弃了HTTP/1.1的管道，HTTP/2 复用TCP连接，在一个连接里，客户端和浏览器都可以同时发送多个请求或回应，而且不用按照顺序一一对应，这样就避免了"队头堵塞"。
- 允许服务端主动向客户端推送数据，服务器推送。
- 压缩了headers，较少数据传输量。因为headers在一系列请求中常常是相似的，其移除了重复和传输重复数据的成本。

#### HTTP/3



### TCP/IP协议

#### 四层模型

HTTP协议是构建在TCP/IP协议之上的，是TCP/IP协议的一个子集。TCP协议栈是一个有四层协议组成的系统，最上层是”**应用层**“，最下层是”**链路层**“，TCP和IP则在中间：TCP属于”**传输层**”，IP则属于“**网络层**“



![image-20191231133245020](https://tva1.sinaimg.cn/large/006tNbRwly1gafug1a5wij31a00kg414.jpg)

1. 第一层”**链路层**“，处理连接网络的硬件部分，包括OS中的设备驱动程序、计算机中对应的网络接口卡。
2. 第二层”**网络层**“，处理分组在网络中的活动、该层规定了通过怎样的路径（传输路线）到达对方计算机，并把数据包传输给对方。
3. 第三层”**传输层**”，保证数据在IP地址标记的两点之间”可靠“的传输。传输层有两个不同性质的协议：TCP和UDP
4. 第四层”**应用层**”，应用层一般是我们编写的应用程序，其决定了向用户提供的应用服务。应用层可以通过系统调用与传输层进行通信。这一层的协议很多，例如SSH/FTP/SMTP/HTTP等

#### OSI七层模型

**OSI**，全称为 **开放式系统互联通信参考模型**（Open System Interconnection Reference Model）。



1. 第一层：物理层，网络的物理形式，例如电缆、光纤、网卡、集线器等等；
2. 第二层：数据链路层，它基本相当于 TCP/IP 的链接层；
3. 第三层：网络层，相当于 TCP/IP 里的网际层；
4. 第四层：传输层，相当于 TCP/IP 里的传输层；
5. 第五层：会话层，维护网络中的连接状态，即保持会话和同步；
6. 第六层：表示层，把数据转换为合适、可理解的语法和语义；
7. 第七层：应用层，面向具体的应用传输数据。